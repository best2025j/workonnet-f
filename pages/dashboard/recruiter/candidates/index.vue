<script setup lang="ts">
import type {
  ApiSuccessResponse,
  IJobApplications,
  IJobApplicationStats,
  IJobApplicationsWithPagination,
IUserDetails,
} from '~/types';

definePageMeta({
  title: 'Candidates',
  pageName: 'dashboard.recruiter.candidates',
  layout: 'dashboard',
  middleware: ['auth', 'is-recruiter'],
});

const jobStore = useJobStore();
const authStore = useAuthStore();
const jobListPage = ref<{}>({});
const jobStats = ref<Partial<IJobApplicationStats>>({});
const isLoading = ref(false);
const starFeature = ref(false)
const route = useRoute();

const jobApps = computed<IJobApplications[]>(() => jobStore.jobApplicationList);

const getMyJobs = async () => {
  try {
    isLoading.value = true;
    const token = authStore.userToken;
    const response = await jobStore.$api.fetchRecruiterJobApplications(token);
    const responseData = response as ApiSuccessResponse;

    const { docs, ...other } =
      responseData.data as IJobApplicationsWithPagination;
    jobListPage.value = other;
    jobStore.setUserJobApplicationList(docs);

    console.log(docs);

    setTimeout(() => {
      isLoading.value = false;
    }, 1000);
  } catch (e) {
    console.log(e);
  }
};

const getMyJobStats = async () => {
  try {
    isLoading.value = true;
    const token = authStore.userToken;
    const response = await jobStore.$api.fetchRecruiterJobApplicationStats(
      token
    );
    const responseData = response as ApiSuccessResponse;

    jobStats.value = responseData.data;

    console.log(jobStats);

    setTimeout(() => {
      isLoading.value = false;
    }, 1000);
  } catch (e) {
    console.log(e);
  }
};

onBeforeMount(async () => {
  await getMyJobStats()
  await getMyJobs();
});
</script>

<template>
  <div class="w-full h-full">
    <div class="grid md:grid-cols-4 gap-x-4 w-full">
      <div class="bg-white rounded-8 px-4 pt-4 hidden md:block">
        <h1 class="text-sm">Total Candidates</h1>

        <p class="md:text-5xl font-black font-[Georgia] pt-4">{{jobStats?.totalJobsApplied || 0}}</p>
        <span class="flex justify-end"
          ><svg
            class=""
            width="80"
            height="74"
            viewBox="0 0 80 74"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M76.5 47.0002C76.2373 47.1972 75.9384 47.3405 75.6204 47.422C75.3024 47.5035 74.9714 47.5215 74.6464 47.4751C74.3214 47.4287 74.0087 47.3187 73.7262 47.1514C73.4437 46.9841 73.197 46.7629 73 46.5002C71.4931 44.4748 69.5318 42.8315 67.2738 41.7025C65.0159 40.5735 62.5244 39.9904 60 40.0002C59.5084 40.0002 59.0277 39.8552 58.618 39.5834C58.2084 39.3116 57.888 38.9251 57.6968 38.4721C57.5671 38.1645 57.5002 37.8341 57.5002 37.5002C57.5002 37.1664 57.5671 36.8359 57.6968 36.5284C57.888 36.0754 58.2084 35.6889 58.618 35.4171C59.0277 35.1453 59.5084 35.0003 60 35.0002C61.4027 35.0001 62.7773 34.6066 63.9676 33.8644C65.1579 33.1222 66.1162 32.0611 66.7336 30.8016C67.3511 29.5421 67.6029 28.1347 67.4606 26.7392C67.3183 25.3437 66.7874 24.0161 65.9284 22.9072C65.0693 21.7983 63.9165 20.9525 62.6009 20.4659C61.2853 19.9793 59.8596 19.8715 58.4857 20.1546C57.1118 20.4376 55.8449 21.1003 54.8288 22.0674C53.8127 23.0344 53.0881 24.267 52.7375 25.6252C52.6554 25.9433 52.5115 26.242 52.3139 26.5045C52.1164 26.7669 51.8691 26.9878 51.5862 27.1547C51.3032 27.3216 50.9902 27.431 50.665 27.4769C50.3397 27.5228 50.0086 27.5042 49.6906 27.4221C49.3725 27.34 49.0738 27.1961 48.8114 26.9986C48.5489 26.801 48.328 26.5537 48.1611 26.2708C47.9943 25.9879 47.8848 25.6749 47.8389 25.3496C47.793 25.0244 47.8116 24.6933 47.8937 24.3752C48.3805 22.4918 49.3 20.748 50.5793 19.2826C51.8586 17.8171 53.4622 16.6705 55.2626 15.9338C57.063 15.1972 59.0105 14.8909 60.9501 15.0394C62.8897 15.1879 64.7679 15.787 66.4352 16.789C68.1025 17.7911 69.5129 19.1685 70.5543 20.8115C71.5956 22.4546 72.2391 24.3181 72.4335 26.2536C72.6279 28.1891 72.3679 30.1433 71.6742 31.9607C70.9805 33.7781 69.8722 35.4084 68.4375 36.7221C71.8369 38.194 74.792 40.5296 77.0093 43.4971C77.2063 43.7604 77.3494 44.06 77.4304 44.3787C77.5114 44.6974 77.5288 45.0289 77.4815 45.3544C77.4341 45.6798 77.3231 45.9926 77.1547 46.2751C76.9863 46.5575 76.7638 46.8039 76.5 47.0002ZM59.6625 66.2502C59.8433 66.5348 59.9648 66.853 60.0195 67.1857C60.0743 67.5184 60.0611 67.8587 59.9809 68.1862C59.9007 68.5137 59.755 68.8216 59.5528 69.0913C59.3505 69.3611 59.0957 69.5871 58.8038 69.7558C58.5119 69.9246 58.1888 70.0325 57.8541 70.0732C57.5194 70.1138 57.1799 70.0864 56.8561 69.9924C56.5323 69.8985 56.2308 69.74 55.9698 69.5265C55.7089 69.3131 55.4938 69.049 55.3375 68.7502C53.7626 66.0836 51.5197 63.8736 48.83 62.3384C46.1404 60.8031 43.0969 59.9957 40 59.9957C36.903 59.9957 33.8595 60.8031 31.1699 62.3384C28.4802 63.8736 26.2373 66.0836 24.6625 68.7502C24.5062 69.049 24.2911 69.3131 24.0301 69.5265C23.7691 69.74 23.4676 69.8985 23.1438 69.9924C22.82 70.0864 22.4805 70.1138 22.1458 70.0732C21.8111 70.0325 21.4881 69.9246 21.1961 69.7558C20.9042 69.5871 20.6495 69.3611 20.4472 69.0913C20.2449 68.8216 20.0993 68.5137 20.019 68.1862C19.9388 67.8587 19.9257 67.5184 19.9804 67.1857C20.0351 66.853 20.1566 66.5348 20.3375 66.2502C22.7612 62.0858 26.4568 58.8086 30.8812 56.9002C28.3916 54.9941 26.5619 52.3557 25.6493 49.3559C24.7368 46.3562 24.7872 43.1458 25.7935 40.1762C26.7998 37.2065 28.7114 34.6269 31.2596 32.7998C33.8078 30.9728 36.8645 29.9902 40 29.9902C43.1355 29.9902 46.1922 30.9728 48.7404 32.7998C51.2886 34.6269 53.2002 37.2065 54.2065 40.1762C55.2128 43.1458 55.2632 46.3562 54.3506 49.3559C53.438 52.3557 51.6083 54.9941 49.1187 56.9002C53.5431 58.8086 57.2387 62.0858 59.6625 66.2502ZM40 55.0002C41.9778 55.0002 43.9112 54.4137 45.5557 53.3149C47.2002 52.2161 48.4819 50.6543 49.2388 48.8271C49.9956 46.9998 50.1937 44.9891 49.8078 43.0493C49.422 41.1095 48.4696 39.3277 47.071 37.9292C45.6725 36.5306 43.8907 35.5782 41.9509 35.1924C40.0111 34.8065 38.0004 35.0046 36.1731 35.7614C34.3459 36.5183 32.7841 37.8 31.6853 39.4445C30.5865 41.089 30 43.0224 30 45.0002C30 47.6524 31.0535 50.1959 32.9289 52.0713C34.8043 53.9467 37.3478 55.0002 40 55.0002ZM22.5 37.5002C22.5 36.8372 22.2366 36.2013 21.7677 35.7325C21.2989 35.2636 20.663 35.0002 20 35.0002C18.5972 35.0001 17.2227 34.6066 16.0324 33.8644C14.8421 33.1222 13.8838 32.0611 13.2663 30.8016C12.6489 29.5421 12.397 28.1347 12.5393 26.7392C12.6817 25.3437 13.2125 24.0161 14.0716 22.9072C14.9306 21.7983 16.0834 20.9525 17.399 20.4659C18.7147 19.9793 20.1404 19.8715 21.5142 20.1546C22.8881 20.4376 24.155 21.1003 25.1711 22.0674C26.1872 23.0344 26.9118 24.267 27.2625 25.6252C27.4282 26.2676 27.8424 26.8177 28.4138 27.1547C28.9852 27.4917 29.667 27.5879 30.3093 27.4221C30.9517 27.2563 31.5018 26.8422 31.8388 26.2708C32.1758 25.6994 32.272 25.0176 32.1062 24.3752C31.6195 22.4918 30.6999 20.748 29.4206 19.2826C28.1414 17.8171 26.5377 16.6705 24.7373 15.9338C22.9369 15.1972 20.9894 14.8909 19.0498 15.0394C17.1102 15.1879 15.2321 15.787 13.5647 16.789C11.8974 17.7911 10.487 19.1685 9.44566 20.8115C8.40433 22.4546 7.76086 24.3181 7.56644 26.2536C7.37201 28.1891 7.63201 30.1433 8.32573 31.9607C9.01946 33.7781 10.1278 35.4084 11.5625 36.7221C8.16648 38.1954 5.2147 40.5309 2.99997 43.4971C2.60173 44.0275 2.43052 44.6944 2.52399 45.3511C2.61747 46.0078 2.96798 46.6004 3.49841 46.9987C4.02884 47.3969 4.69575 47.5681 5.35242 47.4747C6.00909 47.3812 6.60173 47.0307 6.99997 46.5002C8.5068 44.4748 10.4681 42.8315 12.7261 41.7025C14.984 40.5735 17.4755 39.9904 20 40.0002C20.663 40.0002 21.2989 39.7368 21.7677 39.268C22.2366 38.7992 22.5 38.1633 22.5 37.5002Z"
              fill="#343330"
            />
          </svg>
        </span>
      </div>
      <!--  -->
      <div class="bg-white rounded-8 px-4 pt-4 hidden md:block">
        <h1 class="text-sm">Total Hired Candidates</h1>

        <p class="md:text-5xl font-black font-[Georgia] pt-4">{{jobStats?.totalAccepted || 0}}</p>
        <span class="flex justify-end">
          <svg
            width="80"
            height="74"
            viewBox="0 0 80 74"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M73.125 25.0375C72.421 24.2398 71.5554 23.6009 70.5856 23.1634C69.6157 22.7259 68.5639 22.4998 67.5 22.5H50V17.5C50 14.1848 48.683 11.0054 46.3388 8.66117C43.9946 6.31696 40.8152 5 37.5 5C37.0356 4.99967 36.5802 5.12872 36.185 5.37269C35.7898 5.61666 35.4703 5.9659 35.2625 6.38125L23.4562 30H10C8.67392 30 7.40215 30.5268 6.46447 31.4645C5.52678 32.4021 5 33.6739 5 35V62.5C5 63.8261 5.52678 65.0979 6.46447 66.0355C7.40215 66.9732 8.67392 67.5 10 67.5H63.75C65.5772 67.5006 67.3418 66.8342 68.7124 65.6259C70.083 64.4175 70.9654 62.7504 71.1938 60.9375L74.9438 30.9375C75.0767 29.8813 74.9832 28.8089 74.6696 27.7917C74.356 26.7744 73.8295 25.8355 73.125 25.0375ZM10 35H22.5V62.5H10V35ZM69.9812 30.3125L66.2313 60.3125C66.1551 60.9168 65.861 61.4725 65.4041 61.8753C64.9473 62.2781 64.3591 62.5002 63.75 62.5H27.5V33.0906L38.9719 10.1438C40.6722 10.484 42.202 11.403 43.3011 12.7442C44.4001 14.0854 45.0005 15.766 45 17.5V25C45 25.663 45.2634 26.2989 45.7322 26.7678C46.2011 27.2366 46.837 27.5 47.5 27.5H67.5C67.8548 27.4999 68.2055 27.5753 68.5289 27.7211C68.8522 27.867 69.1409 28.0801 69.3756 28.3461C69.6103 28.6121 69.7857 28.925 69.8901 29.2641C69.9945 29.6031 70.0256 29.9605 69.9812 30.3125Z"
              fill="#343330"
            />
          </svg>
        </span>
      </div>
      <!--  -->
      <div class="bg-white rounded-8 px-4 pt-4 hidden md:block">
        <h1 class="text-sm">Rejected Candidates</h1>

        <p class="md:text-5xl font-black font-[Georgia] pt-4">{{jobStats?.totalRejected || 0}}</p>
        <span class="flex justify-end">
          <svg
            width="80"
            height="74"
            viewBox="0 0 80 74"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M64.2692 60.7312C64.5014 60.9635 64.6857 61.2392 64.8114 61.5427C64.9371 61.8462 65.0018 62.1714 65.0018 62.4999C65.0018 62.8284 64.9371 63.1537 64.8114 63.4572C64.6857 63.7607 64.5014 64.0364 64.2692 64.2687C64.0369 64.501 63.7611 64.6852 63.4577 64.8109C63.1542 64.9366 62.8289 65.0013 62.5004 65.0013C62.1719 65.0013 61.8467 64.9366 61.5432 64.8109C61.2397 64.6852 60.9639 64.501 60.7317 64.2687L40.0004 43.5343L19.2692 64.2687C18.8001 64.7378 18.1638 65.0013 17.5004 65.0013C16.837 65.0013 16.2008 64.7378 15.7317 64.2687C15.2626 63.7996 14.999 63.1633 14.999 62.4999C14.999 61.8365 15.2626 61.2003 15.7317 60.7312L36.466 39.9999L15.7317 19.2687C15.2626 18.7996 14.999 18.1633 14.999 17.4999C14.999 16.8365 15.2626 16.2003 15.7317 15.7312C16.2008 15.2621 16.837 14.9985 17.5004 14.9985C18.1638 14.9985 18.8001 15.2621 19.2692 15.7312L40.0004 36.4656L60.7317 15.7312C61.2008 15.2621 61.837 14.9985 62.5004 14.9985C63.1638 14.9985 63.8001 15.2621 64.2692 15.7312C64.7383 16.2003 65.0018 16.8365 65.0018 17.4999C65.0018 18.1633 64.7383 18.7996 64.2692 19.2687L43.5348 39.9999L64.2692 60.7312Z"
              fill="#343330"
            />
          </svg>
        </span>
      </div>
      <!--  -->
      <div class="bg-white rounded-8 px-4 pt-4 hidden md:block">
        <h1 class="text-sm">Interviewed Candidates</h1>

        <p class="md:text-5xl font-black font-[Georgia] pt-4">{{jobStats?.totalInterview || 0}}</p>
        <span class="flex justify-end"
          ><svg
            width="80"
            height="74"
            viewBox="0 0 80 74"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M48.5969 7.75311C48.1765 7.54825 47.707 7.46542 47.2419 7.51403C46.7768 7.56264 46.3346 7.74075 45.9656 8.02811L24.1406 25H10C8.67392 25 7.40215 25.5268 6.46447 26.4645C5.52678 27.4021 5 28.6739 5 30V50C5 51.3261 5.52678 52.5978 6.46447 53.5355C7.40215 54.4732 8.67392 55 10 55H24.1406L45.9656 71.9719C46.3349 72.259 46.7774 72.4367 47.2427 72.4848C47.708 72.533 48.1775 72.4496 48.5978 72.2442C49.0181 72.0388 49.3723 71.7195 49.6202 71.3228C49.8681 70.9261 49.9996 70.4678 50 70V9.99998C50.0001 9.53163 49.8686 9.07268 49.6205 8.67543C49.3724 8.27818 49.0177 7.9586 48.5969 7.75311ZM10 30H22.5V50H10V30ZM45 64.8875L27.5 51.2781V28.7219L45 15.1125V64.8875ZM61.875 31.7375C63.8858 34.0202 64.9952 36.9579 64.9952 40C64.9952 43.0421 63.8858 45.9797 61.875 48.2625C61.4333 48.7478 60.8185 49.04 60.1633 49.076C59.5081 49.1121 58.865 48.889 58.3727 48.455C57.8805 48.0211 57.5786 47.4109 57.5323 46.7564C57.486 46.1018 57.6988 45.4552 58.125 44.9562C59.3308 43.5868 59.996 41.8247 59.996 40C59.996 38.1753 59.3308 36.4132 58.125 35.0437C57.6988 34.5447 57.486 33.8982 57.5323 33.2436C57.5786 32.589 57.8805 31.9789 58.3727 31.5449C58.865 31.111 59.5081 30.8879 60.1633 30.9239C60.8185 30.96 61.4333 31.2522 61.875 31.7375ZM77.5 40C77.5036 46.1506 75.2369 52.0862 71.1344 56.6687C70.689 57.1506 70.0721 57.4381 69.4167 57.4691C68.7612 57.5002 68.1199 57.2723 67.631 56.8347C67.1421 56.397 66.8448 55.7847 66.8034 55.1299C66.7619 54.475 66.9796 53.8302 67.4094 53.3344C70.6888 49.6676 72.5018 44.9209 72.5018 40.0015C72.5018 35.0822 70.6888 30.3355 67.4094 26.6687C67.1843 26.4252 67.0099 26.1393 66.8964 25.8276C66.7829 25.516 66.7325 25.1849 66.7482 24.8537C66.7639 24.5224 66.8453 24.1975 66.9878 23.898C67.1302 23.5985 67.3309 23.3304 67.578 23.1092C67.8251 22.888 68.1137 22.7182 68.4271 22.6096C68.7405 22.5011 69.0723 22.456 69.4033 22.4769C69.7343 22.4979 70.0578 22.5845 70.355 22.7317C70.6522 22.8789 70.9171 23.0838 71.1344 23.3344C75.2379 27.915 77.5049 33.85 77.5 40Z"
              fill="#343330"
            />
          </svg>
        </span>
      </div>
    </div>

    <!-- mobile -->
    <div class="md:hidden space-y-4">
      <div
        class="bg-white rounded-8 px-4 flex h-full w-full md:hidden justify-between items-center"
      >
        <div class="flex space-x-4 items-center">
          <span class=""
            ><svg
              width="32"
              height="74"
              viewBox="0 0 80 74"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M76.5 47.0002C76.2373 47.1972 75.9384 47.3405 75.6204 47.422C75.3024 47.5035 74.9714 47.5215 74.6464 47.4751C74.3214 47.4287 74.0087 47.3187 73.7262 47.1514C73.4437 46.9841 73.197 46.7629 73 46.5002C71.4931 44.4748 69.5318 42.8315 67.2738 41.7025C65.0159 40.5735 62.5244 39.9904 60 40.0002C59.5084 40.0002 59.0277 39.8552 58.618 39.5834C58.2084 39.3116 57.888 38.9251 57.6968 38.4721C57.5671 38.1645 57.5002 37.8341 57.5002 37.5002C57.5002 37.1664 57.5671 36.8359 57.6968 36.5284C57.888 36.0754 58.2084 35.6889 58.618 35.4171C59.0277 35.1453 59.5084 35.0003 60 35.0002C61.4027 35.0001 62.7773 34.6066 63.9676 33.8644C65.1579 33.1222 66.1162 32.0611 66.7336 30.8016C67.3511 29.5421 67.6029 28.1347 67.4606 26.7392C67.3183 25.3437 66.7874 24.0161 65.9284 22.9072C65.0693 21.7983 63.9165 20.9525 62.6009 20.4659C61.2853 19.9793 59.8596 19.8715 58.4857 20.1546C57.1118 20.4376 55.8449 21.1003 54.8288 22.0674C53.8127 23.0344 53.0881 24.267 52.7375 25.6252C52.6554 25.9433 52.5115 26.242 52.3139 26.5045C52.1164 26.7669 51.8691 26.9878 51.5862 27.1547C51.3032 27.3216 50.9902 27.431 50.665 27.4769C50.3397 27.5228 50.0086 27.5042 49.6906 27.4221C49.3725 27.34 49.0738 27.1961 48.8114 26.9986C48.5489 26.801 48.328 26.5537 48.1611 26.2708C47.9943 25.9879 47.8848 25.6749 47.8389 25.3496C47.793 25.0244 47.8116 24.6933 47.8937 24.3752C48.3805 22.4918 49.3 20.748 50.5793 19.2826C51.8586 17.8171 53.4622 16.6705 55.2626 15.9338C57.063 15.1972 59.0105 14.8909 60.9501 15.0394C62.8897 15.1879 64.7679 15.787 66.4352 16.789C68.1025 17.7911 69.5129 19.1685 70.5543 20.8115C71.5956 22.4546 72.2391 24.3181 72.4335 26.2536C72.6279 28.1891 72.3679 30.1433 71.6742 31.9607C70.9805 33.7781 69.8722 35.4084 68.4375 36.7221C71.8369 38.194 74.792 40.5296 77.0093 43.4971C77.2063 43.7604 77.3494 44.06 77.4304 44.3787C77.5114 44.6974 77.5288 45.0289 77.4815 45.3544C77.4341 45.6798 77.3231 45.9926 77.1547 46.2751C76.9863 46.5575 76.7638 46.8039 76.5 47.0002ZM59.6625 66.2502C59.8433 66.5348 59.9648 66.853 60.0195 67.1857C60.0743 67.5184 60.0611 67.8587 59.9809 68.1862C59.9007 68.5137 59.755 68.8216 59.5528 69.0913C59.3505 69.3611 59.0957 69.5871 58.8038 69.7558C58.5119 69.9246 58.1888 70.0325 57.8541 70.0732C57.5194 70.1138 57.1799 70.0864 56.8561 69.9924C56.5323 69.8985 56.2308 69.74 55.9698 69.5265C55.7089 69.3131 55.4938 69.049 55.3375 68.7502C53.7626 66.0836 51.5197 63.8736 48.83 62.3384C46.1404 60.8031 43.0969 59.9957 40 59.9957C36.903 59.9957 33.8595 60.8031 31.1699 62.3384C28.4802 63.8736 26.2373 66.0836 24.6625 68.7502C24.5062 69.049 24.2911 69.3131 24.0301 69.5265C23.7691 69.74 23.4676 69.8985 23.1438 69.9924C22.82 70.0864 22.4805 70.1138 22.1458 70.0732C21.8111 70.0325 21.4881 69.9246 21.1961 69.7558C20.9042 69.5871 20.6495 69.3611 20.4472 69.0913C20.2449 68.8216 20.0993 68.5137 20.019 68.1862C19.9388 67.8587 19.9257 67.5184 19.9804 67.1857C20.0351 66.853 20.1566 66.5348 20.3375 66.2502C22.7612 62.0858 26.4568 58.8086 30.8812 56.9002C28.3916 54.9941 26.5619 52.3557 25.6493 49.3559C24.7368 46.3562 24.7872 43.1458 25.7935 40.1762C26.7998 37.2065 28.7114 34.6269 31.2596 32.7998C33.8078 30.9728 36.8645 29.9902 40 29.9902C43.1355 29.9902 46.1922 30.9728 48.7404 32.7998C51.2886 34.6269 53.2002 37.2065 54.2065 40.1762C55.2128 43.1458 55.2632 46.3562 54.3506 49.3559C53.438 52.3557 51.6083 54.9941 49.1187 56.9002C53.5431 58.8086 57.2387 62.0858 59.6625 66.2502ZM40 55.0002C41.9778 55.0002 43.9112 54.4137 45.5557 53.3149C47.2002 52.2161 48.4819 50.6543 49.2388 48.8271C49.9956 46.9998 50.1937 44.9891 49.8078 43.0493C49.422 41.1095 48.4696 39.3277 47.071 37.9292C45.6725 36.5306 43.8907 35.5782 41.9509 35.1924C40.0111 34.8065 38.0004 35.0046 36.1731 35.7614C34.3459 36.5183 32.7841 37.8 31.6853 39.4445C30.5865 41.089 30 43.0224 30 45.0002C30 47.6524 31.0535 50.1959 32.9289 52.0713C34.8043 53.9467 37.3478 55.0002 40 55.0002ZM22.5 37.5002C22.5 36.8372 22.2366 36.2013 21.7677 35.7325C21.2989 35.2636 20.663 35.0002 20 35.0002C18.5972 35.0001 17.2227 34.6066 16.0324 33.8644C14.8421 33.1222 13.8838 32.0611 13.2663 30.8016C12.6489 29.5421 12.397 28.1347 12.5393 26.7392C12.6817 25.3437 13.2125 24.0161 14.0716 22.9072C14.9306 21.7983 16.0834 20.9525 17.399 20.4659C18.7147 19.9793 20.1404 19.8715 21.5142 20.1546C22.8881 20.4376 24.155 21.1003 25.1711 22.0674C26.1872 23.0344 26.9118 24.267 27.2625 25.6252C27.4282 26.2676 27.8424 26.8177 28.4138 27.1547C28.9852 27.4917 29.667 27.5879 30.3093 27.4221C30.9517 27.2563 31.5018 26.8422 31.8388 26.2708C32.1758 25.6994 32.272 25.0176 32.1062 24.3752C31.6195 22.4918 30.6999 20.748 29.4206 19.2826C28.1414 17.8171 26.5377 16.6705 24.7373 15.9338C22.9369 15.1972 20.9894 14.8909 19.0498 15.0394C17.1102 15.1879 15.2321 15.787 13.5647 16.789C11.8974 17.7911 10.487 19.1685 9.44566 20.8115C8.40433 22.4546 7.76086 24.3181 7.56644 26.2536C7.37201 28.1891 7.63201 30.1433 8.32573 31.9607C9.01946 33.7781 10.1278 35.4084 11.5625 36.7221C8.16648 38.1954 5.2147 40.5309 2.99997 43.4971C2.60173 44.0275 2.43052 44.6944 2.52399 45.3511C2.61747 46.0078 2.96798 46.6004 3.49841 46.9987C4.02884 47.3969 4.69575 47.5681 5.35242 47.4747C6.00909 47.3812 6.60173 47.0307 6.99997 46.5002C8.5068 44.4748 10.4681 42.8315 12.7261 41.7025C14.984 40.5735 17.4755 39.9904 20 40.0002C20.663 40.0002 21.2989 39.7368 21.7677 39.268C22.2366 38.7992 22.5 38.1633 22.5 37.5002Z"
                fill="#343330"
              />
            </svg>
          </span>
          <h1 class="text-sm">Total Candidates</h1>
        </div>
        <p class="text-sm font-black font-[Georgia]">{{jobStats?.totalJobsApplied || 0}}</p>
      </div>

      <div
        class="bg-white rounded-8 px-4 flex h-full w-full md:hidden justify-between items-center"
      >
        <div class="flex space-x-4 items-center">
          <span class=""
            ><svg
              width="32"
              height="74"
              viewBox="0 0 80 74"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M73.125 25.0375C72.421 24.2398 71.5554 23.6009 70.5856 23.1634C69.6157 22.7259 68.5639 22.4998 67.5 22.5H50V17.5C50 14.1848 48.683 11.0054 46.3388 8.66117C43.9946 6.31696 40.8152 5 37.5 5C37.0356 4.99967 36.5802 5.12872 36.185 5.37269C35.7898 5.61666 35.4703 5.9659 35.2625 6.38125L23.4562 30H10C8.67392 30 7.40215 30.5268 6.46447 31.4645C5.52678 32.4021 5 33.6739 5 35V62.5C5 63.8261 5.52678 65.0979 6.46447 66.0355C7.40215 66.9732 8.67392 67.5 10 67.5H63.75C65.5772 67.5006 67.3418 66.8342 68.7124 65.6259C70.083 64.4175 70.9654 62.7504 71.1938 60.9375L74.9438 30.9375C75.0767 29.8813 74.9832 28.8089 74.6696 27.7917C74.356 26.7744 73.8295 25.8355 73.125 25.0375ZM10 35H22.5V62.5H10V35ZM69.9812 30.3125L66.2313 60.3125C66.1551 60.9168 65.861 61.4725 65.4041 61.8753C64.9473 62.2781 64.3591 62.5002 63.75 62.5H27.5V33.0906L38.9719 10.1438C40.6722 10.484 42.202 11.403 43.3011 12.7442C44.4001 14.0854 45.0005 15.766 45 17.5V25C45 25.663 45.2634 26.2989 45.7322 26.7678C46.2011 27.2366 46.837 27.5 47.5 27.5H67.5C67.8548 27.4999 68.2055 27.5753 68.5289 27.7211C68.8522 27.867 69.1409 28.0801 69.3756 28.3461C69.6103 28.6121 69.7857 28.925 69.8901 29.2641C69.9945 29.6031 70.0256 29.9605 69.9812 30.3125Z"
                fill="#343330"
              />
            </svg>
          </span>
          <h1 class="text-sm">Total Hired Candidates</h1>
        </div>
        <p class="text-sm font-black font-[Georgia]">{{jobStats?.totalAccepted || 0}}</p>
      </div>

      <div
        class="bg-white rounded-8 px-4 flex h-full w-full md:hidden justify-between items-center"
      >
        <div class="flex space-x-4 items-center">
          <span class=""
            ><svg
              width="32"
              height="74"
              viewBox="0 0 80 74"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M64.2692 60.7312C64.5014 60.9635 64.6857 61.2392 64.8114 61.5427C64.9371 61.8462 65.0018 62.1714 65.0018 62.4999C65.0018 62.8284 64.9371 63.1537 64.8114 63.4572C64.6857 63.7607 64.5014 64.0364 64.2692 64.2687C64.0369 64.501 63.7611 64.6852 63.4577 64.8109C63.1542 64.9366 62.8289 65.0013 62.5004 65.0013C62.1719 65.0013 61.8467 64.9366 61.5432 64.8109C61.2397 64.6852 60.9639 64.501 60.7317 64.2687L40.0004 43.5343L19.2692 64.2687C18.8001 64.7378 18.1638 65.0013 17.5004 65.0013C16.837 65.0013 16.2008 64.7378 15.7317 64.2687C15.2626 63.7996 14.999 63.1633 14.999 62.4999C14.999 61.8365 15.2626 61.2003 15.7317 60.7312L36.466 39.9999L15.7317 19.2687C15.2626 18.7996 14.999 18.1633 14.999 17.4999C14.999 16.8365 15.2626 16.2003 15.7317 15.7312C16.2008 15.2621 16.837 14.9985 17.5004 14.9985C18.1638 14.9985 18.8001 15.2621 19.2692 15.7312L40.0004 36.4656L60.7317 15.7312C61.2008 15.2621 61.837 14.9985 62.5004 14.9985C63.1638 14.9985 63.8001 15.2621 64.2692 15.7312C64.7383 16.2003 65.0018 16.8365 65.0018 17.4999C65.0018 18.1633 64.7383 18.7996 64.2692 19.2687L43.5348 39.9999L64.2692 60.7312Z"
                fill="#343330"
              />
            </svg>
          </span>
          <h1 class="text-sm">Rejected Candidates</h1>
        </div>
        <p class="text-sm font-black font-[Georgia]">{{jobStats?.totalRejected || 0}}</p>
      </div>

      <div
        class="bg-white rounded-8 px-4 flex h-full w-full md:hidden justify-between items-center"
      >
        <div class="flex space-x-4 items-center">
          <span class=""
            ><svg
              width="32"
              height="74"
              viewBox="0 0 80 74"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M48.5969 7.75311C48.1765 7.54825 47.707 7.46542 47.2419 7.51403C46.7768 7.56264 46.3346 7.74075 45.9656 8.02811L24.1406 25H10C8.67392 25 7.40215 25.5268 6.46447 26.4645C5.52678 27.4021 5 28.6739 5 30V50C5 51.3261 5.52678 52.5978 6.46447 53.5355C7.40215 54.4732 8.67392 55 10 55H24.1406L45.9656 71.9719C46.3349 72.259 46.7774 72.4367 47.2427 72.4848C47.708 72.533 48.1775 72.4496 48.5978 72.2442C49.0181 72.0388 49.3723 71.7195 49.6202 71.3228C49.8681 70.9261 49.9996 70.4678 50 70V9.99998C50.0001 9.53163 49.8686 9.07268 49.6205 8.67543C49.3724 8.27818 49.0177 7.9586 48.5969 7.75311ZM10 30H22.5V50H10V30ZM45 64.8875L27.5 51.2781V28.7219L45 15.1125V64.8875ZM61.875 31.7375C63.8858 34.0202 64.9952 36.9579 64.9952 40C64.9952 43.0421 63.8858 45.9797 61.875 48.2625C61.4333 48.7478 60.8185 49.04 60.1633 49.076C59.5081 49.1121 58.865 48.889 58.3727 48.455C57.8805 48.0211 57.5786 47.4109 57.5323 46.7564C57.486 46.1018 57.6988 45.4552 58.125 44.9562C59.3308 43.5868 59.996 41.8247 59.996 40C59.996 38.1753 59.3308 36.4132 58.125 35.0437C57.6988 34.5447 57.486 33.8982 57.5323 33.2436C57.5786 32.589 57.8805 31.9789 58.3727 31.5449C58.865 31.111 59.5081 30.8879 60.1633 30.9239C60.8185 30.96 61.4333 31.2522 61.875 31.7375ZM77.5 40C77.5036 46.1506 75.2369 52.0862 71.1344 56.6687C70.689 57.1506 70.0721 57.4381 69.4167 57.4691C68.7612 57.5002 68.1199 57.2723 67.631 56.8347C67.1421 56.397 66.8448 55.7847 66.8034 55.1299C66.7619 54.475 66.9796 53.8302 67.4094 53.3344C70.6888 49.6676 72.5018 44.9209 72.5018 40.0015C72.5018 35.0822 70.6888 30.3355 67.4094 26.6687C67.1843 26.4252 67.0099 26.1393 66.8964 25.8276C66.7829 25.516 66.7325 25.1849 66.7482 24.8537C66.7639 24.5224 66.8453 24.1975 66.9878 23.898C67.1302 23.5985 67.3309 23.3304 67.578 23.1092C67.8251 22.888 68.1137 22.7182 68.4271 22.6096C68.7405 22.5011 69.0723 22.456 69.4033 22.4769C69.7343 22.4979 70.0578 22.5845 70.355 22.7317C70.6522 22.8789 70.9171 23.0838 71.1344 23.3344C75.2379 27.915 77.5049 33.85 77.5 40Z"
                fill="#343330"
              />
            </svg>
          </span>
          <h1 class="text-sm">Interviewed Candidates</h1>
        </div>
        <p class="text-sm font-black font-[Georgia]">{{jobStats?.totalInterview || 0}}</p>
      </div>
    </div>

    <div class="bg-white w-full rounded-10">
      <div class="my-4">
        <nav
          class="w-full flex justify-end border-b px-4 py-2 border-y-black-200 items-center"
        >
          <!-- white svg -->
          <button
            class="text-black-950 border-2 dropdown dropdown-bottom dropdown-end md:px-4 px-2 py-2 flex gap-2 items-center border-black-100 rounded-8"
          >
            <h1 class="text-[10px] md:text-sm">Filter by</h1>
            <span tabindex="0" role="button" class="bg-white">
              <svg
                width="14"
                height="9"
                viewBox="0 0 14 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.6925 1.94229L7.44254 8.19229C7.38449 8.2504 7.31556 8.2965 7.23969 8.32795C7.16381 8.35941 7.08248 8.37559 7.00035 8.37559C6.91821 8.37559 6.83688 8.35941 6.76101 8.32795C6.68514 8.2965 6.61621 8.2504 6.55816 8.19229L0.30816 1.94229C0.190885 1.82502 0.125 1.66596 0.125 1.5001C0.125 1.33425 0.190885 1.17519 0.30816 1.05792C0.425435 0.94064 0.584495 0.874756 0.750347 0.874756C0.9162 0.874756 1.07526 0.94064 1.19253 1.05792L7.00035 6.86651L12.8082 1.05792C12.8662 0.999847 12.9352 0.953784 13.011 0.922357C13.0869 0.890931 13.1682 0.874756 13.2503 0.874756C13.3325 0.874756 13.4138 0.890931 13.4897 0.922357C13.5655 0.953784 13.6345 0.999847 13.6925 1.05792C13.7506 1.11598 13.7967 1.18492 13.8281 1.26079C13.8595 1.33666 13.8757 1.41798 13.8757 1.5001C13.8757 1.58223 13.8595 1.66354 13.8281 1.73941C13.7967 1.81528 13.7506 1.88422 13.6925 1.94229Z"
                  fill="#3D3D3D"
                />
              </svg>
            </span>

            <!-- drop down -->
            <ul
              tabindex="0"
              class="dropdown-content menu bg-white rounded-box z-10 w-52 mt-4 space-y-2 py-3 shadow"
            >
              <li>
                <div class="flex text-xs gap-3 bg-[#F9F5FF]">
                  <a>Pending</a>
                </div>
              </li>

              <li>
                <div class="flex text-xs gap-3 bg-[#F9F5FF]">
                  <a>In Review</a>
                </div>
              </li>

              <li>
                <div class="flex text-xs gap-3">
                  <a>Interview</a>
                </div>
              </li>
              <li>
                <div class="flex text-xs gap-3">
                  <a>Offered</a>
                </div>
              </li>
              <li>
                <div class="flex text-xs gap-3">
                  <a>Rejected</a>
                </div>
              </li>
            </ul>
          </button>
        </nav>
        <!--  -->
        <div class="md:px-4 pt-2">
          <table class="w-full">
            <thead class="bg-bla h-10 rounded-10 px-3">
              <tr class="">
                <td
                  class="text-left text-[8px] md:text-sm bg-black-50 pl-4 rounded-l-10"
                >
                  Candidates Name
                </td>
                <td class="text-left text-[8px] md:text-sm bg-black-50">
                  Rating
                </td>
                <td class="text-left text-[8px] md:text-sm bg-black-50">
                  Stages
                </td>
                <td class="text-left text-[8px] md:text-sm bg-black-50">
                  Applied Role
                </td>
                <td class="text-left text-[8px] md:text-sm bg-black-50">
                  Application Date
                </td>
                <td
                  class="text-left text-[8px] md:text-sm rounded-r-10 bg-black-50"
                >
                  Action
                </td>
              </tr>
            </thead>

            <tbody v-if="isLoading" class="text-[7px] md:text-base">
              <tr class="md:h-14 h-8">
                <td colspan="6" rowspan="7">
                  <div class="h-40 w-full flex items-center justify-center">
                    <span class="loader-2"></span>
                  </div>
                </td>
              </tr>
            </tbody>

            <tbody
              v-if="jobApps.length > 0 && !isLoading"
              class="text-[7px] md:text-base"
            >
              <tr
                v-for="(jobApp, index) in jobApps"
                :key="index"
                class="md:h-14 h-8"
              >
                <td>
                  <div class="flex items-center space-x-2">
                    <img
                      :src="(jobApp?.user as IUserDetails)!.photo!.url"
                      :alt="((jobApp?.user as IUserDetails).firstName)"
                      class="!h-[32px] !w-[32px]"
                    />
                    <h1>{{(jobApp?.user as IUserDetails).firstName}} {{(jobApp?.user as IUserDetails).lastName}}</h1>
                  </div>
                </td>

                <td class="">
                  <div v-if="starFeature" class="flex items-center gap-1">
                    <svg
                      class="md:hidden"
                      width="10"
                      height="10"
                      viewBox="0 0 18 18"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M17.3203 7.93603L13.7969 11.011L14.8524 15.5892C14.9082 15.8285 14.8923 16.079 14.8065 16.3093C14.7208 16.5396 14.5691 16.7396 14.3703 16.8841C14.1716 17.0287 13.9346 17.1114 13.6891 17.1221C13.4436 17.1327 13.2004 17.0707 12.9899 16.9438L8.99689 14.522L5.01252 16.9438C4.80202 17.0707 4.55881 17.1327 4.31328 17.1221C4.06775 17.1114 3.83079 17.0287 3.63204 16.8841C3.4333 16.7396 3.28157 16.5396 3.19584 16.3093C3.1101 16.079 3.09416 15.8285 3.15002 15.5892L4.20392 11.0157L0.679705 7.93603C0.493305 7.77526 0.358519 7.56304 0.292249 7.32598C0.225978 7.08892 0.231173 6.83757 0.307183 6.60345C0.383193 6.36933 0.526633 6.16287 0.719516 6.00994C0.912399 5.85702 1.14614 5.76445 1.39142 5.74384L6.03674 5.34149L7.85002 1.01649C7.94471 0.789554 8.10443 0.595704 8.30907 0.459352C8.51371 0.323 8.75411 0.250244 9.00002 0.250244C9.24592 0.250244 9.48633 0.323 9.69097 0.459352C9.8956 0.595704 10.0553 0.789554 10.15 1.01649L11.9688 5.34149L16.6125 5.74384C16.8578 5.76445 17.0915 5.85702 17.2844 6.00994C17.4773 6.16287 17.6207 6.36933 17.6968 6.60345C17.7728 6.83757 17.778 7.08892 17.7117 7.32598C17.6454 7.56304 17.5106 7.77526 17.3242 7.93603H17.3203Z"
                        fill="#FE8900"
                      />
                    </svg>

                    <svg
                      class="hidden md:flex"
                      width="18"
                      height="18"
                      viewBox="0 0 18 18"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M17.3203 7.93603L13.7969 11.011L14.8524 15.5892C14.9082 15.8285 14.8923 16.079 14.8065 16.3093C14.7208 16.5396 14.5691 16.7396 14.3703 16.8841C14.1716 17.0287 13.9346 17.1114 13.6891 17.1221C13.4436 17.1327 13.2004 17.0707 12.9899 16.9438L8.99689 14.522L5.01252 16.9438C4.80202 17.0707 4.55881 17.1327 4.31328 17.1221C4.06775 17.1114 3.83079 17.0287 3.63204 16.8841C3.4333 16.7396 3.28157 16.5396 3.19584 16.3093C3.1101 16.079 3.09416 15.8285 3.15002 15.5892L4.20392 11.0157L0.679705 7.93603C0.493305 7.77526 0.358519 7.56304 0.292249 7.32598C0.225978 7.08892 0.231173 6.83757 0.307183 6.60345C0.383193 6.36933 0.526633 6.16287 0.719516 6.00994C0.912399 5.85702 1.14614 5.76445 1.39142 5.74384L6.03674 5.34149L7.85002 1.01649C7.94471 0.789554 8.10443 0.595704 8.30907 0.459352C8.51371 0.323 8.75411 0.250244 9.00002 0.250244C9.24592 0.250244 9.48633 0.323 9.69097 0.459352C9.8956 0.595704 10.0553 0.789554 10.15 1.01649L11.9688 5.34149L16.6125 5.74384C16.8578 5.76445 17.0915 5.85702 17.2844 6.00994C17.4773 6.16287 17.6207 6.36933 17.6968 6.60345C17.7728 6.83757 17.778 7.08892 17.7117 7.32598C17.6454 7.56304 17.5106 7.77526 17.3242 7.93603H17.3203Z"
                        fill="#FE8900"
                      />
                    </svg>

                    <h1>4.6</h1>
                  </div>
                  <div v-else>N/A</div>
                </td>
                <td>{{jobApp.status}}</td>
                <td class="capitalize">{{jobApp.jobListing.title}}</td>
                <td>{{ formatDateWithSuffix(jobApp.createdAt) }}</td>
                <td>
                  <div class="flex items-center gap-2">
                    <NuxtLink :to="`/dashboard/recruiter/candidates/${jobApp.id}-${jobApp.jobListing.slug}`">
                        View
                    </NuxtLink>
                  </div>
                </td>
              </tr>
            </tbody>
            <tbody
              v-if="jobApps.length === 0 && !isLoading"
              class="text-[7px] md:text-base"
            >
              <tr class="md:h-14 h-8">
                <td colspan="5" rowspan="6">
                  <div>
                    <EmptyJobState />
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- button for pagination -->
        <!-- <div
          class="flex gap-2 justify-center items- py-4 md:text-sm text-[10px]"
        >
          <button class="py-2 px-4 rounded-10 border bg-black-400">
            <svg
              width="9"
              height="12"
              viewBox="0 0 9 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M8.16 1.41L3.58 6L8.16 10.59L6.75 12L0.750004 6L6.75 0L8.16 1.41Z"
                fill="#C4CDD5"
              />
            </svg>
          </button>
          <button class="py-2 px-4 rounded-10 border border-primary-1">
            1
          </button>
          <button class="py-2 px-4 rounded-10 border border-black-300">
            2
          </button>
          <button class="rounded-10 px-4 py-2 border border-black-300">
            <svg
              width="8"
              height="2"
              viewBox="0 0 8 2"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M1.0338 1.084C0.903138 1.084 0.791138 1.042 0.697805 0.958C0.604471 0.864667 0.557805 0.752667 0.557805 0.622C0.557805 0.482 0.604471 0.37 0.697805 0.286C0.791138 0.192667 0.903138 0.146 1.0338 0.146C1.1738 0.146 1.2858 0.192667 1.3698 0.286C1.46314 0.37 1.5098 0.482 1.5098 0.622C1.5098 0.752667 1.46314 0.864667 1.3698 0.958C1.2858 1.042 1.1738 1.084 1.0338 1.084ZM4.0006 1.084C3.86993 1.084 3.75793 1.042 3.6646 0.958C3.57127 0.864667 3.5246 0.752667 3.5246 0.622C3.5246 0.482 3.57127 0.37 3.6646 0.286C3.75793 0.192667 3.86993 0.146 4.0006 0.146C4.1406 0.146 4.2526 0.192667 4.3366 0.286C4.42993 0.37 4.4766 0.482 4.4766 0.622C4.4766 0.752667 4.42993 0.864667 4.3366 0.958C4.2526 1.042 4.1406 1.084 4.0006 1.084ZM6.9674 1.084C6.83673 1.084 6.72473 1.042 6.6314 0.958C6.53807 0.864667 6.4914 0.752667 6.4914 0.622C6.4914 0.482 6.53807 0.37 6.6314 0.286C6.72473 0.192667 6.83673 0.146 6.9674 0.146C7.1074 0.146 7.2194 0.192667 7.3034 0.286C7.39673 0.37 7.4434 0.482 7.4434 0.622C7.4434 0.752667 7.39673 0.864667 7.3034 0.958C7.2194 1.042 7.1074 1.084 6.9674 1.084Z"
                fill="#3D3D3D"
              />
            </svg>
          </button>
          <button class="py-2 px-4 rounded-10 border border-black-300">
            9
          </button>
          <button class="py-2 px-4 rounded-10 border border-black-300">
            10
          </button>
          <button class="py-2 px-4 rounded-10 border border-black-300">
            <svg
              width="9"
              height="12"
              viewBox="0 0 9 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.839996 1.41L5.42 6L0.839996 10.59L2.25 12L8.25 6L2.25 0L0.839996 1.41Z"
                fill="#C4CDD5"
              />
            </svg>
          </button>
        </div> -->
      </div>
    </div>
  </div>
</template>
